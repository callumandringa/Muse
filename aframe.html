<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Kubus Volgt Muis</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <style>
        body { margin: 0; overflow: hidden; }
        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; /* Make the scene non-interactive */
        }
    </style>
</head>
<body>
    <div id="canvas-container">
        <a-scene>
            <a-entity id="camera" camera look-controls position="0 1.6 5"></a-entity>
            <a-box id="cube" position="0 1.6 0" color="#00ff00" depth="1" height="1" width="1"></a-box>
        </a-scene>
    </div>

    <script>
        AFRAME.registerComponent('mouse-follow', {
            init: function () {
                window.addEventListener('mousemove', this.onMouseMove.bind(this));
            },
            onMouseMove: function (event) {
                const mouseX = (event.clientX / window.innerWidth) * 2 - 1;
                const mouseY = -(event.clientY / window.innerHeight) * 2 + 1;

                const vector = new THREE.Vector3(mouseX, mouseY, 0.5);
                vector.unproject(this.el.sceneEl.camera);

                const dir = vector.sub(this.el.sceneEl.camera.position).normalize();
                const distance = -this.el.sceneEl.camera.position.z / dir.z;
                const pos = this.el.sceneEl.camera.position.clone().add(dir.multiplyScalar(distance));

                this.el.object3D.lookAt(pos);
            },
            remove: function () {
                window.removeEventListener('mousemove', this.onMouseMove.bind(this));
            }
        });

        document.querySelector('#cube').setAttribute('mouse-follow', '');
    </script>
</body>
</html>
